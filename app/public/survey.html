<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <title>Friend Finder</title>
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <script src="https://kit.fontawesome.com/b2d4bd35df.js"></script>
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
</head>

<body>
    <div class="row">
        <div class="col s12">
            <nav>
                <div class="nav-wrapper teal lighten-9">
                    <a class="title left">Friend Finder</a>
                    <a href="./home" class="brand-logo right">
                        <i class="fas fa-american-sign-language-interpreting"></i>
                    </a>

                </div>
            </nav>
        </div>
    </div>

    <div class="container" id="survey">
        <div class="row">
            <div class="col s2">
                <h3>Survey</h3>
            </div>
        </div>
        <div class="row">
            <form class="col s12">
                <div class="input-field col s6">
                    <input placeholder="First Name" id="first_name" type="text" class="validate">
                    <label for="first_name">Name:</label>
                </div>
                <div class="input-field col s6">
                    <input id="last_name" type="text" class="validate">
                    <label for="last_name">Last Name:</label>
                </div>
                <div class="row">
                    <div class="col s12">
                        Link to Photo:
                        <div class="input-field inline">
                            <input id="link_inline" type="photo" class="validate">
                            <span class="helper-text" data-error="wrong" data-success="right" id="photoID">example:
                                https://www.pinterest.com/pin/649362840004333778/</span>
                        </div>
                    </div>
                </div>
        </div>
        <div class="row" id="survey">
            <div class="input-field col s12">
                <select id="ans1">
                    <option value="Q1">Your mind is always buzzing with unexplored ideas and plans.</option>
                    <option value="1">Strongly Disagree</option>
                    <option value="2">Slightly Disagree</option>
                    <option value="3">Neutral</option>
                    <option value="4">Slightly Disagree</option>
                    <option value="5">Strongly Agree</option>
                </select>
                <label>Question 1:</label>
            </div>
            <div class="input-field col s12">
                <select id="ans2">
                    <option value="Q2">Generally speaking, you rely more on your experience than your imagination.</option>
                    <option value="1">Strongly Disagree</option>
                    <option value="2">Slightly Disagree</option>
                    <option value="3">Neutral</option>
                    <option value="4">Slightly Disagree</option>
                    <option value="5">Strongly Agree</option>
                </select>
                <label>Question 2:</label>
            </div>
            <div class="input-field col s12">
                <select id="ans3">
                    <option value="Q3">You find it easy to stay relaxed and focused even when there is some pressure.</option>
                    <option value="1">Strongly Disagree</option>
                    <option value="2">Slightly Disagree</option>
                    <option value="3">Neutral</option>
                    <option value="4">Slightly Disagree</option>
                    <option value="5">Strongly Agree</option>
                </select>
                <label>Question 3:</label>
            </div>
            <div class="input-field col s12">
                <select id="ans4">
                    <option value="Q4">You rarely do something just out of sheer curiosity.</option>
                    <option value="1">Strongly Disagree</option>
                    <option value="2">Slightly Disagree</option>
                    <option value="3">Neutral</option>
                    <option value="4">Slightly Disagree</option>
                    <option value="5">Strongly Agree</option>
                </select>
                <label>Question 4:</label>
            </div>
            <div class="input-field col s12">
                <select id="ans5">
                    <option value="Q5">People can rarely upset you.</option>
                    <option value="1">Strongly Disagree</option>
                    <option value="2">Slightly Disagree</option>
                    <option value="3">Neutral</option>
                    <option value="4">Slightly Disagree</option>
                    <option value="5">Strongly Agree</option>
                </select>
                <label>Question 5:</label>
            </div>
            <div class="input-field col s12">
                <select id="ans6">
                    <option value="Q6">It is often difficult for you to relate to other people’s feelings.</option>
                    <option value="1">Strongly Disagree</option>
                    <option value="2">Slightly Disagree</option>
                    <option value="3">Neutral</option>
                    <option value="4">Slightly Disagree</option>
                    <option value="5">Strongly Agree</option>
                </select>
                <label>Question 6:</label>
            </div>
            <div class="input-field col s12">
                <select id="ans7">
                    <option value="Q7">In a discussion, truth should be more important than people’s sensitivities.</option>
                    <option value="1">Strongly Disagree</option>
                    <option value="2">Slightly Disagree</option>
                    <option value="3">Neutral</option>
                    <option value="4">Slightly Disagree</option>
                    <option value="5">Strongly Agree</option>
                </select>
                <label>Question 7:</label>
            </div>
            <div class="input-field col s12">
                <select id="ans8">
                    <option value="Q8">You rarely get carried away by fantasies and ideas.</option>
                    <option value="1">Strongly Disagree</option>
                    <option value="2">Slightly Disagree</option>
                    <option value="3">Neutral</option>
                    <option value="4">Slightly Disagree</option>
                    <option value="5">Strongly Agree</option>
                </select>
                <label>Question 8:</label>
            </div>
            <div class="input-field col s12">
                <select id="ans9">
                    <option value="Q9">You feel more energetic after spending time with a group of people.</option>
                    <option value="1">Strongly Disagree</option>
                    <option value="2">Slightly Disagree</option>
                    <option value="3">Neutral</option>
                    <option value="4">Slightly Disagree</option>
                    <option value="5">Strongly Agree</option>
                </select>
                <label>Question 9:</label>
            </div>
            <div class="input-field col s12">
                <select id="ans10">
                    <option value="Q10">You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</option>
                    <option value="1">Strongly Disagree</option>
                    <option value="2">Slightly Disagree</option>
                    <option value="3">Neutral</option>
                    <option value="4">Slightly Disagree</option>
                    <option value="5">Strongly Agree</option>
                </select>
                <label>Question 10:</label>
            </div>
            <button class="btn waves-effect waves-light" type="button">Submit
                <i class="material-icons right"></i>
            </button>

        </div>
    </div>

    <script>
        $(document).ready(function () {
            $('select').formSelect();
        });

        $(".btn").on("click", function (event) {
            var firstName = $("#first_name").val().trim();
            var lastName = $("#last_name").val().trim();
            var photoLink = $("#photoID").val().trim();
            var ans1 = $("#ans1").val();
            var ans2 = $("#ans2").val();
            var ans3 = $("#ans3").val();
            var ans4 = $("#ans4").val();
            var ans5 = $("#ans5").val();
            var ans6 = $("#ans6").val();
            var ans7 = $("#ans7").val(); 
            var ans8 = $("#ans8").val();
            var ans9 = $("#ans9").val();
            var ans10 = $("#ans10").val();
            console.log(firstName, lastName, photoLink, ans1, ans2, ans3, ans4, ans5, ans6, ans7, ans8, ans9, ans10)

            var profile = {
                name: firstName,
                last: lastName,
                photo: photoLink,
                scores: [ans1, ans2, ans3, ans4, ans5, ans6, ans7, ans8, ans9, ans10]
            }
            console.log(profile)

            $.post("/api/friends")

            $.ajax("/api/friends", {
                type: "POST",
                data: profile
            }).done(function(res){
                console.log(res)
            })

        })
        


    </script>
    <!-- JavaScript at end of body for optimized loading -->
    <script type="text/javascript" src="js/materialize.min.js"></script>
</body>

</html>